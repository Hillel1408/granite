const calculationBtn=document.querySelector(".calculation-modal-btn"),calculationBtnPrev=document.querySelector(".calculation-modal__btn"),calculationSteps=document.querySelectorAll(".calculation-modal-step"),calculationStepsBlock=document.querySelector(".calculation-modal-steps"),calculationProgress2=document.querySelector(".calculation-modal__progress-2"),calculationForm=document.querySelector(".calculation-modal-form"),calculationText=document.querySelector(".calculation-modal__small-text"),calculationProgressBlock=document.querySelector(".calculation-modal-progress-block"),calculationTime=document.querySelector(".calculation-modal-time div"),calculationThanks=document.querySelector(".calculation-modal-thanks"),calculationContent=document.querySelector(".calculation-modal-content");let count=0;const func=(t,c)=>{t.style.display="none",c.style.display="block"},formElement=document.querySelector(".calculation-form");formElement.addEventListener("submit",async t=>{t.preventDefault();try{await fetch("send_msg.php",{method:"POST",body:new FormData(formElement)});func(calculationForm,calculationThanks),calculationContent.style.transition="none",calculationContent.style.width="400px"}catch(t){console.log(t)}});const showStepBlock=t=>{t?4==count?(func(calculationStepsBlock,calculationProgress2),setTimeout(()=>{calculationProgress2.style.display="none",calculationForm.style.display="grid"},4200)):func(calculationSteps[count],calculationSteps[count+1]):func(calculationSteps[count],calculationSteps[count-1])};calculationBtn.addEventListener("click",(function(t){t.preventDefault(),count<5&&(showStepBlock(!0),count+=1,calculationText.innerText=`Шаг ${count+1} из 5`,calculationProgressBlock.style.width=20*count+"%")})),calculationBtnPrev.addEventListener("click",(function(t){t.preventDefault(),count>0&&(showStepBlock(!1),calculationText.innerText=`Шаг ${count} из 5`,calculationProgressBlock.style.width=20*(count-1)+"%",count-=1)}));const costCalculation=document.querySelector(".cost-calculation"),calculationModal=document.querySelector(".calculation-modal"),calculationModalClose=document.querySelector(".calculation-modal__close"),calculationToggle=()=>{calculationModal.classList.toggle("open"),document.body.classList.toggle("lock")};costCalculation.addEventListener("click",(function(){calculationToggle()})),calculationModalClose.addEventListener("click",(function(){calculationToggle()}));const thanksBtn=document.querySelector(".thanks__btn");thanksBtn.addEventListener("click",(function(){calculationToggle()}));