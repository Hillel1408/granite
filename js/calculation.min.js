const calculationBtn=document.querySelector(".calculation-modal-btn"),calculationBtnPrev=document.querySelector(".calculation-modal__btn"),calculationSteps=document.querySelectorAll(".calculation-modal-step"),calculationStepsBlock=document.querySelector(".calculation-modal-steps"),calculationProgress2=document.querySelector(".calculation-modal__progress-2"),calculationForm=document.querySelector(".calculation-modal-form"),calculationText=document.querySelector(".calculation-modal__small-text"),calculationProgressBlock=document.querySelector(".calculation-modal-progress-block"),calculationTime=document.querySelector(".calculation-modal-time div"),calculationThanks=document.querySelector(".calculation-modal-thanks"),calculationContent=document.querySelector(".calculation-modal-content");let count=0;const formElement=document.querySelector(".calculation-form");formElement.addEventListener("submit",async l=>{l.preventDefault();try{await fetch("send_msg.php",{method:"POST",body:new FormData(formElement)});calculationForm.style.display="none",calculationThanks.style.display="block",calculationContent.style.transition="none",calculationContent.style.width="400px"}catch(l){console.log(l)}});const showStepBlock=l=>{l?4==count?(calculationStepsBlock.style.display="none",calculationProgress2.style.display="block",setTimeout(()=>{calculationProgress2.style.display="none",calculationForm.style.display="grid"},4200)):(calculationSteps[count].style.display="none",calculationSteps[count+1].style.display="block"):(calculationSteps[count].style.display="none",calculationSteps[count-1].style.display="block")};calculationBtn.addEventListener("click",(function(l){l.preventDefault(),count<5&&(showStepBlock(!0),count+=1,calculationText.innerText=`Шаг ${count+1} из 5`,calculationProgressBlock.style.width=20*(count+1)+"%")})),calculationBtnPrev.addEventListener("click",(function(l){l.preventDefault(),count>0&&(showStepBlock(!1),calculationText.innerText=`Шаг ${count} из 5`,calculationProgressBlock.style.width=20*count+"%",count-=1)}));const costCalculation=document.querySelector(".cost-calculation"),calculationModal=document.querySelector(".calculation-modal"),calculationModalClose=document.querySelector(".calculation-modal__close");costCalculation.addEventListener("click",(function(){calculationModal.classList.toggle("open"),document.body.classList.toggle("lock")})),calculationModalClose.addEventListener("click",(function(){calculationModal.classList.toggle("open"),document.body.classList.toggle("lock")}));